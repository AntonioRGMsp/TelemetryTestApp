unit TriggerSincronizador;

interface
uses Trigger, ThreadTable, Table;

type
  TTriggerSincronizador = class(TInterfacedObject, ITrigger)
  private
    FThreadTable : ITable;
    function ExisteRegistro : Boolean;
  public
    procedure Ejecutar;
    constructor Create;
  end;

implementation
constructor TTriggerSincronizador.Create;
begin
   FThreadTable := TThreadTable.Create;
end;

procedure TTriggerSincronizador.Ejecutar;
begin
  // Logica para decidir  si se debe lanzar el sincronizador o no
end;

function TTriggerSincronizador.ExisteRegistro: Boolean;
begin
  FThreadTable.SELECT_BY_NAME('sincronizador');
  Result := True;
end;

end.
